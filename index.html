<!DOCTYPE html>
<!-- 
  NAYA FIX: Default Light Mode. Dark class hata diya gaya hai.
-->
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R.S Films Group | All-in-One Platform</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font: Inter (Small & Professional) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Ionicons -->
    <script type"module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <!-- Chart.js (Dashboard charts ke liye) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        :root {
            --color-text-light: #334155;
            --color-bg-light: #F1F5F9;
            --color-card-light: #FFFFFF;
            --color-sidebar-light: #FFFFFF;
            --color-border-light: #E2E8F0;
            
            --color-text-dark: #CBD5E1;
            --color-bg-dark: #0B1120;
            --color-card-dark: #1E293B;
            --color-sidebar-dark: #131B2E;
            --color-border-dark: #334155;
            
            --color-primary: #3B82F6;
            --color-primary-hover: #2563EB;
            --color-primary-light: rgba(59, 130, 246, 0.1);
        }

        /* --- Global Styles --- */
        body {
            font-family: 'Inter', sans-serif;
            font-size: 14px; /* Professional small font */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* --- NAYA: Animated Gradient Background (Video ka Solution) --- */
        #full-page-animated-bg {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            width: 100vw; height: 100vh;
            background: linear-gradient(-45deg, #F1F5F9, #E0E7FF, #BFDBFE, #E0E7FF);
            background-size: 400% 400%;
            animation: gradientBG 20s ease infinite;
            z-index: -10;
            opacity: 1;
        }
        .dark #full-page-animated-bg {
            background: linear-gradient(-45deg, #0B1120, #131B2E, #1E293B, #131B2E);
            animation: gradientBG 20s ease infinite;
        }
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- Light Mode (Default) --- */
        body {
            background-color: var(--color-bg-light);
            color: var(--color-text-light);
        }
        .bg-card { background-color: var(--color-card-light); }
        .bg-sidebar { background-color: var(--color-sidebar-light); }
        .text-main { color: var(--color-text-light); }
        .text-heading { color: #0F172A; }
        .border-main { border-color: var(--color-border-light); }
        .bg-app { background-color: var(--color-bg-light); }

        /* --- Dark Mode --- */
        .dark body {
            background-color: var(--color-bg-dark);
            color: var(--color-text-dark);
        }
        .dark .bg-card { background-color: var(--color-card-dark); }
        .dark .bg-sidebar { background-color: var(--color-sidebar-dark); }
        .dark .text-main { color: var(--color-text-dark); }
        .dark .text-heading { color: #F1F5F9; }
        .dark .border-main { border-color: var(--color-border-dark); }
        .dark .bg-app { background-color: var(--color-bg-dark); }

        .text-primary { color: var(--color-primary); }
        .bg-primary { background-color: var(--color-primary); }
        .border-primary { border-color: var(--color-primary); }

        /* --- Page Navigation FIX --- */
        .page-section {
            display: none; /* Sabhi pages by default hide */
            animation: pageFadeIn 0.4s ease-out;
        }
        .page-active {
            display: block; /* Sirf active page dikhega */
        }
        @keyframes pageFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Sidebar Navigation --- */
        .nav-link {
            display: flex; align-items: center;
            padding: 0.6rem 0.75rem;
            border-radius: 0.375rem;
            font-weight: 500;
            font-size: 14px;
            color: var(--color-text-light);
            transition: all 0.2s ease;
        }
        .dark .nav-link { color: var(--color-text-dark); }
        .nav-link:hover {
            background-color: var(--color-primary-light);
            color: var(--color-primary);
        }
        .nav-link.active {
            background-color: var(--color-primary);
            color: #FFFFFF;
            font-weight: 600;
        }
        .nav-link ion-icon {
            font-size: 1.1rem;
            margin-right: 0.75rem;
        }
        
        /* Form Inputs */
        .form-input {
            width: 100%; padding: 0.5rem 0.75rem; border-radius: 0.375rem;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
            border: 1px solid; font-size: 14px;
        }
        .dark .form-input {
             border-color: var(--color-border-dark); background-color: #283649;
             color: #E2E8F0;
        }
        .light .form-input {
            border-color: #CBD5E1; background-color: #FFFFFF; color: #1A202C;
        }
        .form-input:focus {
            outline: none; border-color: var(--color-primary);
            box-shadow: 0 0 0 3px var(--color-primary-light);
        }
        .form-label {
            display: block; font-size: 13px; font-weight: 500; 
            color: var(--text-main); margin-bottom: 4px;
        }
        
        /* Buttons */
        .btn {
            padding: 0.5rem 1rem; border-radius: 0.375rem;
            font-weight: 600; font-size: 13px;
            transition: all 0.2s ease; display: inline-flex;
            align-items: center; justify-content: center;
            border: 1px solid transparent; cursor: pointer;
        }
        .btn-primary {
            background-color: var(--color-primary); color: #FFFFFF;
            border-color: var(--color-primary);
        }
        .btn-primary:hover { background-color: var(--color-primary-hover); }
        .btn-secondary {
            border-color: #CBD5E1; color: var(--color-text-light);
            background-color: var(--color-card-light);
        }
        .dark .btn-secondary {
            border-color: var(--color-border-dark); color: var(--color-text-dark);
            background-color: var(--color-card-dark);
        }

        /* Login Page (Full Screen) */
        #login-page {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        
        /* Chat Styling */
        #chat-messages {
             height: calc(100vh - 250px);
        }
    </style>
</head>
<body class="bg-app">

    <!-- NAYA: Animated Gradient Background -->
    <div id="full-page-animated-bg"></div>

    <!-- ===== Platform Layout (Sidebar + Content) ===== -->
    <!-- Yeh by default hidden rahega, login ke baad dikhega -->
    <div id="platform-layout" class="hidden">
        <!-- Sidebar -->
        <aside class="fixed top-0 left-0 z-40 w-64 h-screen transition-transform -translate-x-full md:translate-x-0 bg-sidebar border-r border-main" id="sidebar-menu">
            <div class="h-full px-3 py-4 overflow-y-auto">
                <!-- Logo -->
                <a href="#" class="flex items-center ps-2.5 mb-5" onclick="showPage('page-dashboard')">
                    <span class="self-center text-xl font-bold whitespace-nowrap text-heading">R.S Films <span class="text-primary">Group</span></span>
                </a>
                
                <!-- Navigation Links -->
                <ul class="space-y-2 font-medium">
                    <li><span class="px-3 text-xs font-semibold uppercase text-main">Menu</span></li>
                    <li>
                        <a href="#" class="nav-link active" data-page="page-dashboard">
                            <ion-icon name="grid-outline"></ion-icon>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-link" data-page="page-chat">
                            <ion-icon name="chatbubbles-outline"></ion-icon>
                            <span>Community Chat</span>
                        </a>
                    </li>
                    
                    <li><span class="px-3 pt-3 text-xs font-semibold uppercase text-main">Services</span></li>
                    <li>
                        <a href="#" class="nav-link" data-page="page-services">
                            <ion-icon name="briefcase-outline"></ion-icon>
                            <span>Services & Pricing</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-link" data-page="page-music">
                            <ion-icon name="musical-notes-outline"></ion-icon>
                            <span>Music Distribution</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-link" data-page="page-mcn">
                            <ion-icon name="tv-outline"></ion-icon>
                            <span>MCN Application</span>
                        </a>
                    </li>

                    <li><span class="px-3 pt-3 text-xs font-semibold uppercase text-main">Bazaar</span></li>
                    <li>
                        <a href="#" class="nav-link" data-page="page-hire">
                            <ion-icon name="person-add-outline"></ion-icon>
                            <span>Hire a Professional</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-link" data-page="page-store">
                            <ion-icon name="storefront-outline"></ion-icon>
                            <span>Digital Store (PSDs)</span>
                        </a>
                    </li>
                    
                    <li><span class="px-3 pt-3 text-xs font-semibold uppercase text-main">Company</span></li>
                    <li>
                        <a href="#" class="nav-link" data-page="page-work">
                            <ion-icon name="images-outline"></ion-icon>
                            <span>Latest Work</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-link" data-page="page-clients">
                            <ion-icon name="people-outline"></ion-icon>
                            <span>Humare Clients</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-link" data-page="page-data">
                            <ion-icon name="stats-chart-outline"></ion-icon>
                            <span>Client Data</span>
                        </a>
                    </li>
                </ul>
                
                <!-- Footer (User/Logout) -->
                <div class="absolute bottom-0 left-0 w-full p-4 space-y-2 border-t border-main bg-sidebar">
                    <button id="theme-toggle" class="w-full btn btn-secondary">
                        <ion-icon name="moon-outline" class="mr-2 text-lg"></ion-icon>
                        <span>Toggle Theme</span>
                    </button>
                    <button id="auth-logout-sidebar" class="w-full btn btn-secondary">
                        <ion-icon name="log-out-outline" class="mr-2 text-lg"></ion-icon>
                        <span>Sign Out</span>
                    </button>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="p-4 md:ml-64 relative min-h-screen">
            <!-- Header Bar (Mobile) -->
             <header class="md:hidden flex justify-between items-center p-4 mb-4 bg-card border-b border-main rounded-lg">
                <span class="text-lg font-bold text-heading">R.S Films</span>
                <div>
                    <button id="theme-toggle-mobile" class="p-2 text-main">
                        <ion-icon name="moon-outline" class="text-xl"></ion-icon>
                    </button>
                    <button id="mobile-menu-btn" class="p-2 text-main">
                        <ion-icon name="menu-outline" class="text-2xl"></ion-icon>
                    </button>
                </div>
            </header>
            
            <!-- ===== Page: Dashboard ===== -->
            <!-- 
                NAYA FIX: page-active class add kiya hai.
                Yeh page ab by default dikhega.
            -->
            <section id="page-dashboard" class="page-section page-active">
                <h1 class="text-3xl font-bold text-heading mb-6">Dashboard</h1>
                
                <!-- Key Statistics -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                    <div class="bg-card border border-main rounded-lg p-5">
                        <h3 class="text-sm font-medium text-main mb-2">Total Revenue</h3>
                        <p class="text-3xl font-bold text-heading">$45,231.89</p>
                    </div>
                    <div class="bg-card border border-main rounded-lg p-5">
                        <h3 class="text-sm font-medium text-main mb-2">Total Subscribers</h3>
                        <p class="text-3xl font-bold text-heading">+1,230</p>
                    </div>
                    <div class="bg-card border border-main rounded-lg p-5">
                        <h3 class="text-sm font-medium text-main mb-2">Pending Projects</h3>
                        <p class="text-3xl font-bold text-heading">12</p>
                    </div>
                    <div class="bg-card border border-main rounded-lg p-5">
                        <h3 class="text-sm font-medium text-main mb-2">New Messages</h3>
                        <p class="text-3xl font-bold text-heading">3</p>
                    </div>
                </div>
                
                <!-- Charts -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6">
                    <div class="bg-card border border-main rounded-lg p-5">
                        <h3 class="text-lg font-semibold text-heading mb-4">Revenue Overview</h3>
                        <canvas id="revenueChart"></canvas>
                    </div>
                    <div class="bg-card border border-main rounded-lg p-5">
                        <h3 class="text-lg font-semibold text-heading mb-4">Subscriber Growth</h3>
                        <canvas id="subscriberChart"></canvas>
                    </div>
                </div>
            </section>
            
            <!-- ===== Page: Community Chat ===== -->
            <section id="page-chat" class="page-section">
                <h1 class="text-3xl font-bold text-heading mb-6">Community Chat</h1>
                <div class="bg-card border border-main rounded-lg shadow-lg">
                    <!-- Message Display Area -->
                    <div id="chat-messages" class="p-4 space-y-4 overflow-y-auto">
                        <!-- Messages yahaan JS se add honge -->
                        <div class="text-center text-main text-sm">Loading messages...</div>
                    </div>
                    <!-- Message Input Area -->
                    <form id="chat-form" class="p-4 border-t border-main flex gap-3">
                        <input type="text" id="chat-input" placeholder="Type your message..." class="form-input" autocomplete="off" required>
                        <button type="submit" class="btn btn-primary">
                            <ion-icon name="send-outline"></ion-icon>
                        </button>
                    </form>
                </div>
            </section>
            
            <!-- ===== Page: Services & Pricing ===== -->
            <section id="page-services" class="page-section">
                <h1 class="text-3xl font-bold text-heading mb-6">Services & Pricing Plans</h1>
                <!-- Pricing Table -->
                <div class="bg-card border border-main rounded-lg shadow-lg overflow-x-auto mb-16">
                    <table class="w-full min-w-[800px]">
                        <thead>
                            <tr class="border-b border-main">
                                <th class="p-4 text-left text-base font-semibold text-heading w-1/4">Features</th>
                                <th class="p-4 text-center w-1/4">
                                    <h3 class="text-base font-semibold text-heading">Silver</h3>
                                    <p class="text-2xl font-bold text-heading my-2">$99</p>
                                </th>
                                <th class="p-4 text-center w-1/4 border-x border-main bg-primary-light">
                                    <h3 class="text-base font-semibold text-primary">Gold (Popular)</h3>
                                    <p class="text-2xl font-bold text-heading my-2">$299</p>
                                </th>
                                <th class="p-4 text-center w-1/4">
                                    <h3 class="text-base font-semibold text-heading">Platinum</h3>
                                    <p class="text-2xl font-bold text-heading my-2">$599</p>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- ... (Poora table content yahaan) ... -->
                            <tr class="border-b border-main"><td colspan="4" class="p-3 bg-app font-semibold text-heading text-sm">Channel Management</td></tr>
                            <tr class="border-b border-main">
                                <td class="p-3 text-main">YouTube SEO</td>
                                <td class="p-3 text-center text-green-500"><ion-icon name="checkmark-outline"></ion-icon></td>
                                <td class="p-3 text-center text-green-500 bg-primary-light"><ion-icon name="checkmark-outline"></ion-icon></td>
                                <td class="p-3 text-center text-green-500"><ion-icon name="checkmark-outline"></ion-icon></td>
                            </tr>
                            <tr class="border-b border-main">
                                <td class="p-3 text-main">Instagram / FB Posts</td>
                                <td class="p-3 text-center text-heading font-medium">15 / month</td>
                                <td class="p-3 text-center text-heading font-medium bg-primary-light">30 / month</td>
                                <td class="p-3 text-center text-heading font-medium">Unlimited</td>
                            </tr>
                            <tr class="border-b border-main"><td colspan="4" class="p-3 bg-app font-semibold text-heading text-sm">Production</td></tr>
                            <tr class="border-b border-main">
                                <td class="p-3 text-main">Video Editing</td>
                                <td class="p-3 text-center text-heading font-medium">5 Videos</td>
                                <td class="p-3 text-center text-heading font-medium bg-primary-light">15 Videos</td>
                                <td class="p-3 text-center text-heading font-medium">Unlimited</td>
                            </tr>
                            <tr class="border-b border-main">
                                <td class="p-3 text-main">Video Shooting</td>
                                <td class="p-3 text-center text-red-500"><ion-icon name="close-outline"></ion-icon></td>
                                <td class="p-3 text-center text-red-500 bg-primary-light"><ion-icon name="close-outline"></ion-icon></td>
                                <td class="p-3 text-center text-green-500"><ion-icon name="checkmark-outline"></ion-icon></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- ===== Page: Music Distribution ===== -->
            <section id="page-music" class="page-section">
                <h1 class="text-3xl font-bold text-heading mb-6">Music Distribution</h1>
                <div class="bg-card border border-main rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold text-heading mb-4">Multi-Step Music Distribution Form</h3>
                    <!-- Multi-step form content yahaan add hoga -->
                    <form id="music-dist-form" class="space-y-4">
                        <div>
                            <label class="form-label" for="artist-name">Artist Name</label>
                            <input class="form-input" type="text" name="artist-name" required>
                        </div>
                        <div>
                            <label class="form-label" for="song-title">Song Title</label>
                            <input class="form-input" type="text" name="song-title" required>
                        </div>
                        <div class="text-right pt-2">
                            <button type="submit" class="btn btn-primary">Submit Song</button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- ===== Page: MCN Application ===== -->
            <section id="page-mcn" class="page-section">
                <h1 class="text-3xl font-bold text-heading mb-6">MCN Application</h1>
                <div class="bg-card border border-main rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold text-heading mb-4">MCN Application Form</h3>
                    <form id="mcn-apply-form" class="space-y-4">
                        <div>
                            <label class="form-label" for="channel-name">Channel Name</label>
                            <input class="form-input" type="text" name="channel-name" required>
                        </div>
                        <div>
                            <label class="form-label" for="channel-link">Channel Link (URL)</label>
                            <input class="form-input" type="url" name="channel-link" required>
                        </div>
                        <div class="text-right pt-2">
                            <button type="submit" class="btn btn-primary">Submit Application</button>
                        </div>
                    </form>
                </div>
            </section>
            
            <!-- ===== Page: Hire a Professional ===== -->
            <section id="page-hire" class="page-section">
                <h1 class="text-3xl font-bold text-heading mb-6">Hire a Professional</h1>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <!-- Professionals (10+ profiles) -->
                    <div class="bg-card border border-main rounded-lg p-4 text-center">
                        <img src="https://placehold.co/100x100/3B82F6/FFFFFF?text=Rohan" alt="Pro" class="w-20 h-20 rounded-full mx-auto mb-3">
                        <h3 class="text-base font-semibold text-heading">Rohan Sharma</h3>
                        <p class="text-primary font-medium text-xs mb-2">Pro Video Editor</p>
                        <button class="btn btn-primary w-full text-sm py-2 px-3">Hire</button>
                    </div>
                    <div class="bg-card border border-main rounded-lg p-4 text-center">
                        <img src="https://placehold.co/100x100/10B981/FFFFFF?text=Priya" alt="Pro" class="w-20 h-20 rounded-full mx-auto mb-3">
                        <h3 class="text-base font-semibold text-heading">Priya Singh</h3>
                        <p class="text-primary font-medium text-xs mb-2">Graphic Designer</p>
                        <button class="btn btn-primary w-full text-sm py-2 px-3">Hire</button>
                    </div>
                    <!-- ... aur profiles ... -->
                </div>
            </section>
            
            <!-- ===== Page: Digital Store ===== -->
            <section id="page-store" class="page-section">
                <h1 class="text-3xl font-bold text-heading mb-6">Digital Store (PSD Selling)</h1>
                <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4">
                    <!-- Products (12+ items) -->
                    <div class="bg-card border border-main rounded-lg overflow-hidden">
                        <img src="https://placehold.co/600x400/3B82F6/FFFFFF?text=Poster+PSD" alt="Product" class="w-full h-32 object-cover">
                        <div class="p-3">
                            <h3 class="text-sm font-semibold text-heading truncate">Music Poster PSD Vol. 1</h3>
                            <div class="flex justify-between items-center mt-2">
                                <p class="text-lg font-bold text-primary">$10</p>
                                <button class="btn btn-secondary text-xs py-1 px-2">Buy</button>
                            </div>
                        </div>
                    </div>
                    <div class="bg-card border border-main rounded-lg overflow-hidden">
                        <img src="https://placehold.co/600x400/F59E0B/FFFFFF?text=Cinematic+LUTs" alt="Product" class="w-full h-32 object-cover">
                        <div class="p-3">
                            <h3 class="text-sm font-semibold text-heading truncate">Cinematic LUT Pack</h3>
                            <div class="flex justify-between items-center mt-2">
                                <p class="text-lg font-bold text-primary">$25</p>
                                <button class="btn btn-secondary text-xs py-1 px-2">Buy</button>
                            </div>
                        </div>
                    </div>
                    <!-- ... aur products ... -->
                </div>
            </section>

            <!-- ===== Page: Latest Work ===== -->
            <section id="page-work" class="page-section">
                <h1 class="text-3xl font-bold text-heading mb-6">Latest Work (Portfolio)</h1>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <img src="https://placehold.co/600x400/8B5CF6/FFFFFF?text=Music+Video" alt="Work" class="rounded-lg shadow-lg">
                    <img src="https://placehold.co/600x400/EC4899/FFFFFF?text=Poster+Design" alt="Work" class="rounded-lg shadow-lg">
                    <img src="https://placehold.co/600x400/10B981/FFFFFF?text=Vlog+Edit" alt="Work" class="rounded-lg shadow-lg">
                </div>
            </section>
            
            <!-- ===== Page: Humare Clients ===== -->
            <section id="page-clients" class="page-section">
                <h1 class="text-3xl font-bold text-heading mb-6">Humare Clients</h1>
                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                    <div class="bg-card border border-main rounded-lg p-4 flex items-center justify-center">
                        <img src="https://placehold.co/150x50/CBD5E1/0F172A?text=Client+Logo+1" alt="Client" class="h-8">
                    </div>
                    <div class="bg-card border border-main rounded-lg p-4 flex items-center justify-center">
                        <img src="https://placehold.co/150x50/CBD5E1/0F172A?text=Client+Logo+2" alt="Client" class="h-8">
                    </div>
                    <!-- ... aur logos ... -->
                </div>
            </section>

            <!-- ===== Page: Client Data ===== -->
            <section id="page-data" class="page-section">
                <h1 class="text-3xl font-bold text-heading mb-6">Client Data (Admin)</h1>
                <div class="bg-card border border-main rounded-lg shadow-lg overflow-x-auto">
                    <table class="w-full min-w-[600px]">
                        <thead>
                            <tr class="border-b border-main">
                                <th class="p-3 text-left text-xs font-semibold text-main uppercase">Client Name</th>
                                <th class="p-3 text-left text-xs font-semibold text-main uppercase">Email</th>
                                <th class="p-3 text-left text-xs font-semibold text-main uppercase">Status</th>
                            </tr>
                        </thead>
                        <tbody id="client-data-table">
                            <!-- Data JS se load hoga -->
                            <tr><td colspan="3" class="p-4 text-center text-main">Loading client data...</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>

        </main>
    </div>
    
    <!-- ===== Login Page (Full Screen) ===== -->
    <!-- Yeh by default dikhega, login ke baad hide hoga -->
    <div id="login-page">
        <div class="w-full max-w-md mx-auto">
            <div class="bg-card border border-main rounded-lg shadow-2xl p-8">
                <h1 class="text-2xl font-bold text-heading text-center mb-6">R.S Films <span class="text-primary">Group</span></h1>
                
                <!-- Tabs -->
                <div class="flex border-b border-main mb-6">
                    <button id="login-tab-btn" class="w-1/2 py-3 font-semibold text-primary border-b-2 border-primary">Login</button>
                    <button id="signup-tab-btn" class="w-1/2 py-3 font-semibold text-main">Sign Up</button>
                </div>
                
                <!-- Login Form -->
                <form id="auth-login-form" class="space-y-4">
                    <div>
                        <label class="form-label" for="login-email">Email</label>
                        <input class="form-input" type="email" id="login-email" required>
                    </div>
                    <div>
                        <label class="form-label" for="login-password">Password</label>
                        <input class="form-input" type="password" id="login-password" required>
                    </div>
                    <p id="login-error" class="text-red-500 text-sm hidden"></p>
                    <div class="pt-2">
                        <button type="submit" class="btn btn-primary w-full">Login</button>
                    </div>
                </form>
                
                <!-- Signup Form -->
                <form id="auth-signup-form" class="space-y-4 hidden">
                    <div>
                        <label class="form-label" for="signup-name">Aapka Naam</label>
                        <input class="form-input" type="text" id="signup-name" required>
                    </div>
                    <div>
                        <label class="form-label" for="signup-email">Email</label>
                        <input class="form-input" type="email" id="signup-email" required>
                    </div>
                    <div>
                        <label class="form-label" for="signup-password">Password</label>
                        <input class="form-input" type="password" id="signup-password" required>
                    </div>
                    <p id="signup-error" class="text-red-500 text-sm hidden"></p>
                    <div class="pt-2">
                        <button type="submit" class="btn btn-primary w-full">Create Account</button>
                    </div>
                </form>
                
            </div>
        </div>
    </div>
    
    <!-- Message Box (Alert/Error) -->
    <div id="message-box" class="hidden fixed top-5 right-5 z-50 bg-red-500 text-white p-4 rounded-lg shadow-lg">
        <span id="message-text"></span>
    </div>

    <!-- Firebase (Peeche add kar diya hai) -->
    <script type="module">
        // Firebase SDKs
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { 
            getAuth, 
            signInWithEmailAndPassword, 
            createUserWithEmailAndPassword, 
            onAuthStateChanged, 
            signOut 
        } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { 
            getFirestore, 
            collection, 
            addDoc, 
            query, 
            onSnapshot, 
            serverTimestamp,
            getDocs
        } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global variables
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const authToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let app, auth, db, charts = {};

        // ===== Utility Functions =====
        function showMessage(text, isError = true) {
            const msgBox = document.getElementById('message-box');
            const msgText = document.getElementById('message-text');
            if (!msgBox || !msgText) return;
            
            msgText.textContent = text;
            msgBox.className = `fixed top-5 right-5 z-50 p-4 rounded-lg shadow-lg ${isError ? 'bg-red-500 text-white' : 'bg-green-500 text-white'}`;
            msgBox.classList.remove('hidden');
            setTimeout(() => { msgBox.classList.add('hidden'); }, 3000);
        }

        // ===== Page Navigation (NAYA FIX) =====
        function showPage(pageId) {
            // Sabhi pages ko hide karo
            document.querySelectorAll('.page-section').forEach(page => {
                page.classList.remove('page-active');
            });
            // Sirf target page ko show karo
            const activePage = document.getElementById(pageId);
            if (activePage) {
                activePage.classList.add('page-active');
            }
            
            // Sidebar links ko update karo
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.toggle('active', link.dataset.page === pageId);
            });

            // Page load hone par specific actions
            if (pageId === 'page-dashboard') {
                initDashboardCharts();
            }
            if (pageId === 'page-data') {
                loadClientData();
            }
            
            // Mobile menu band karein
            const mobileMenu = document.getElementById('sidebar-menu');
            if (mobileMenu) mobileMenu.classList.add('-translate-x-full');
        }

        // ===== Theme Toggle =====
        function updateThemeIcon(isDark) {
            const iconName = isDark ? 'sunny-outline' : 'moon-outline';
            document.getElementById('theme-toggle').innerHTML = `<ion-icon name="${iconName}" class="mr-2 text-lg"></ion-icon> ${isDark ? 'Light Mode' : 'Dark Mode'}`;
            document.getElementById('theme-toggle-mobile').innerHTML = `<ion-icon name="${iconName}" class="text-xl"></ion-icon>`;
        }
        function toggleTheme() {
            document.documentElement.classList.toggle('dark');
            const isDark = document.documentElement.classList.contains('dark');
            updateThemeIcon(isDark);
        }
        
        // ===== Authentication =====
        function showPlatform(isLoggedIn) {
            const loginPage = document.getElementById('login-page');
            const platformLayout = document.getElementById('platform-layout');
            if (isLoggedIn) {
                loginPage.style.display = 'none';
                platformLayout.classList.remove('hidden');
                showPage('page-dashboard'); // Login ke baad default dashboard dikhao
            } else {
                loginPage.style.display = 'flex';
                platformLayout.classList.add('hidden');
            }
        }

        // ===== Dashboard Charts =====
        function initDashboardCharts() {
            if (charts.revenue) charts.revenue.destroy();
            if (charts.subscribers) charts.subscribers.destroy();
            
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            charts.revenue = new Chart(revenueCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Revenue',
                        data: [12000, 19000, 15000, 21000, 18000, 23000],
                        borderColor: 'var(--color-primary)',
                        tension: 0.1
                    }]
                }
            });

            const subscriberCtx = document.getElementById('subscriberChart').getContext('2d');
            charts.subscribers = new Chart(subscriberCtx, {
                type: 'bar',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'New Subscribers',
                        data: [150, 220, 180, 250, 230, 300],
                        backgroundColor: 'var(--color-primary-light)',
                        borderColor: 'var(--color-primary)',
                        borderWidth: 1
                    }]
                }
            });
        }
        
        // ===== Client Data (Mock) =====
        async function loadClientData() {
            const tableBody = document.getElementById('client-data-table');
            tableBody.innerHTML = ''; // Clear
            
            // Mock data
            const clients = [
                { name: 'Rohan Sharma', email: 'rohan@example.com', status: 'Active' },
                { name: 'Priya Singh', email: 'priya@example.com', status: 'Active' },
                { name: 'Vikram Kumar', email: 'vikram@example.com', status: 'Pending' },
            ];
            
            clients.forEach(client => {
                const row = `
                    <tr class="border-b border-main">
                        <td class="p-3 text-sm font-medium text-heading">${client.name}</td>
                        <td class="p-3 text-sm text-main">${client.email}</td>
                        <td class="p-3 text-sm">
                            <span class="px-2 py-1 text-xs rounded-full ${client.status === 'Active' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}">
                                ${client.status}
                            </span>
                        </td>
                    </tr>
                `;
                tableBody.insertAdjacentHTML('beforeend', row);
            });
        }
        
        // ===== Chat =====
        function initChat() {
            const chatForm = document.getElementById('chat-form');
            const chatInput = document.getElementById('chat-input');
            const chatMessages = document.getElementById('chat-messages');

            // Listen for new messages
            const q = query(collection(db, `artifacts/${appId}/public/data/chat`));
            onSnapshot(q, (snapshot) => {
                chatMessages.innerHTML = '';
                snapshot.forEach((doc) => {
                    const msg = doc.data();
                    const isMe = msg.userId === auth.currentUser.uid;
                    const msgClass = isMe ? 'bg-primary text-white ml-auto' : 'bg-app border border-main';
                    chatMessages.innerHTML += `
                        <div class="max-w-xs p-3 rounded-lg ${msgClass}">
                            <p class="text-xs font-semibold ${isMe ? 'text-blue-200' : 'text-primary'}">${msg.name}</p>
                            <p class="text-sm">${msg.text}</p>
                        </div>
                    `;
                });
                chatMessages.scrollTop = chatMessages.scrollHeight; // Scroll to bottom
            });

            // Send new message
            chatForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const text = chatInput.value;
                if (!text.trim()) return;

                try {
                    await addDoc(collection(db, `artifacts/${appId}/public/data/chat`), {
                        text: text,
                        name: auth.currentUser.displayName || auth.currentUser.email.split('@')[0],
                        userId: auth.currentUser.uid,
                        createdAt: serverTimestamp()
                    });
                    chatInput.value = '';
                } catch (error) {
                    showMessage("Error sending message: " + error.message);
                }
            });
        }


        // ===== Main Initialization =====
        document.addEventListener('DOMContentLoaded', () => {
            try {
                // Initialize Firebase
                app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);
            } catch (error) {
                showMessage("Firebase initialization failed. Please check config.");
                return;
            }

            // --- Authentication Logic ---
            const loginForm = document.getElementById('auth-login-form');
            const signupForm = document.getElementById('auth-signup-form');
            
            loginForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                try {
                    await signInWithEmailAndPassword(auth, loginForm['login-email'].value, loginForm['login-password'].value);
                    // Auth state change handle karega
                } catch (error) {
                    showMessage(error.message);
                }
            });
            
            signupForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                try {
                    await createUserWithEmailAndPassword(auth, signupForm['signup-email'].value, signupForm['signup-password'].value);
                    // Auth state change handle karega
                } catch (error) {
                    showMessage(error.message);
                }
            });

            document.getElementById('auth-logout-sidebar').addEventListener('click', () => signOut(auth));

            // Auth State Watcher
            onAuthStateChanged(auth, (user) => {
                showPlatform(!!user);
                if (user) {
                    initChat(); // Sirf login ke baad chat init karo
                }
            });

            // --- UI Listeners ---
            
            // Login/Signup Tabs
            const loginTab = document.getElementById('login-tab-btn');
            const signupTab = document.getElementById('signup-tab-btn');
            loginTab.addEventListener('click', () => {
                loginForm.classList.remove('hidden');
                signupForm.classList.add('hidden');
                loginTab.classList.add('text-primary', 'border-primary');
                signupTab.classList.remove('text-primary', 'border-primary');
            });
            signupTab.addEventListener('click', () => {
                loginForm.classList.add('hidden');
                signupForm.classList.remove('hidden');
                signupTab.classList.add('text-primary', 'border-primary');
                loginTab.classList.remove('text-primary', 'border-primary');
            });
            
            // Theme Toggle
            document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
            document.getElementById('theme-toggle-mobile').addEventListener('click', toggleTheme);
            updateThemeIcon(document.documentElement.classList.contains('dark')); // Initial check
            
            // Page Navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    showPage(link.dataset.page);
                });
            });

            // Mobile Menu Toggle
            document.getElementById('mobile-menu-btn').addEventListener('click', () => {
                document.getElementById('sidebar-menu').classList.toggle('-translate-x-full');
            });
        });

    </script>
</body>
</html>

